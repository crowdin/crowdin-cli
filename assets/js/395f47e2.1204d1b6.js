"use strict";(self.webpackChunkcrowdin_cli_website=self.webpackChunkcrowdin_cli_website||[]).push([[3912],{5680:(e,n,a)=>{a.d(n,{xA:()=>g,yg:()=>y});var t=a(6540);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function r(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},l=Object.keys(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=t.createContext({}),p=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},g=function(e){var n=p(e.components);return t.createElement(s.Provider,{value:n},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,g=r(e,["components","mdxType","originalType","parentName"]),u=p(a),d=i,y=u["".concat(s,".").concat(d)]||u[d]||c[d]||l;return a?t.createElement(y,o(o({ref:n},g),{},{components:a})):t.createElement(y,o({ref:n},g))}));function y(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=a.length,o=new Array(l);o[0]=d;var r={};for(var s in n)hasOwnProperty.call(n,s)&&(r[s]=n[s]);r.originalType=e,r[u]="string"==typeof e?e:i,o[1]=r;for(var p=2;p<l;p++)o[p]=a[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6794:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>p});var t=a(8168),i=(a(6540),a(5680));const l={description:"Unlock the full potential of the Crowdin CLI. Dive deeper into advanced techniques, tips, and tricks for leveraging the capabilities of the CLI tool."},o="Advanced Usage",r={unversionedId:"advanced",id:"advanced",title:"Advanced Usage",description:"Unlock the full potential of the Crowdin CLI. Dive deeper into advanced techniques, tips, and tricks for leveraging the capabilities of the CLI tool.",source:"@site/docs/advanced.md",sourceDirName:".",slug:"/advanced",permalink:"/crowdin-cli/advanced",draft:!1,editUrl:"https://github.com/crowdin/crowdin-cli/tree/main/website/docs/advanced.md",tags:[],version:"current",frontMatter:{description:"Unlock the full potential of the Crowdin CLI. Dive deeper into advanced techniques, tips, and tricks for leveraging the capabilities of the CLI tool."},sidebar:"tutorialSidebar",previous:{title:"CI/CD Integration",permalink:"/crowdin-cli/ci-cd"},next:{title:"Exit Codes",permalink:"/crowdin-cli/exit-codes"}},s={},p=[{value:"Using CLI with Proxy Server",id:"using-cli-with-proxy-server",level:3},{value:"Attach labels to the uploaded strings",id:"attach-labels-to-the-uploaded-strings",level:3},{value:"Excluding target languages for uploaded sources",id:"excluding-target-languages-for-uploaded-sources",level:3},{value:"Languages mapping configuration",id:"languages-mapping-configuration",level:3},{value:"Download Pseudo-localization",id:"download-pseudo-localization",level:3},{value:"Export configuration for specific file formats",id:"export-configuration-for-specific-file-formats",level:3},{value:"Java Properties",id:"java-properties",level:4},{value:"JavaScript",id:"javascript",level:4},{value:"Argument File",id:"argument-file",level:3},{value:"How to use",id:"how-to-use",level:4},{value:"Multilingual Files",id:"multilingual-files",level:3},{value:"Configure export options for each file group",id:"configure-export-options-for-each-file-group",level:3},{value:"Ignore hidden files during upload sources",id:"ignore-hidden-files-during-upload-sources",level:3}],g={toc:p},u="wrapper";function c(e){let{components:n,...a}=e;return(0,i.yg)(u,(0,t.A)({},g,a,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"advanced-usage"},"Advanced Usage"),(0,i.yg)("h3",{id:"using-cli-with-proxy-server"},"Using CLI with Proxy Server"),(0,i.yg)("p",null,"Crowdin CLI provides the possibility to work with a proxy server. Each time you run a command, Crowdin CLI checks whether the operating system has the configured environment variables."),(0,i.yg)("p",null,"Supported environment variables:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"HTTP_PROXY_HOST")," - the name or the IP address of the host at which the proxy server is located"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"HTTP_PROXY_PORT")," - the port used by the proxy server for listening"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"HTTP_PROXY_USER")," - the username used for authentication on a proxy server"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"HTTP_PROXY_PASSWORD")," - the password used for authentication on a proxy server")),(0,i.yg)("h3",{id:"attach-labels-to-the-uploaded-strings"},"Attach labels to the uploaded strings"),(0,i.yg)("p",null,"There are a few ways to attach labels to the uploaded strings using the Crowdin CLI:"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Specify labels for each file-group in the ",(0,i.yg)("inlineCode",{parentName:"p"},"crowdin.yml")," configuration file:"),(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml" {5-8}',title:'"crowdin.yml"',"{5-8}":!0},"files: [\n    {\n        'source': '...',\n        'translation': '...',\n        'labels': [\n            'main-menu',\n            'application'\n        ]\n    }\n]\n"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Specify Labels as the ",(0,i.yg)("a",{parentName:"p",href:"/commands/crowdin-upload-sources"},"crowdin upload sources")," command options:"),(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre",className:"language-bash"},'crowdin upload sources -s "..." -t "..." --label "main-menu" -- label "application"\n')))),(0,i.yg)("h3",{id:"excluding-target-languages-for-uploaded-sources"},"Excluding target languages for uploaded sources"),(0,i.yg)("p",null,"By default, the source files are available for translation into all target languages of the project. There is a possibility to specify the languages your file shouldn't be translated into:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},"'files': [\n    {\n        'source': '...',\n        'translation': '...',\n        // highlight-next-line\n        'excluded_target_languages': ['uk', 'fr']\n    }\n]\n")),(0,i.yg)("p",null,"Or using command options:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"crowdin upload sources --excluded-language uk fr\n")),(0,i.yg)("h3",{id:"languages-mapping-configuration"},"Languages mapping configuration"),(0,i.yg)("p",null,"Often software projects have custom names for locale directories. Crowdin allows you to map your own languages to be recognizable in your projects."),(0,i.yg)("p",null,"Let's say your locale directories are named ",(0,i.yg)("inlineCode",{parentName:"p"},"en"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"uk"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"fr"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"de"),". All of them can be represented by the ",(0,i.yg)("inlineCode",{parentName:"p"},"%two_letters_code%")," placeholder. Still, you have one directory named ",(0,i.yg)("inlineCode",{parentName:"p"},"zh_CH"),". You can also override language codes for other placeholders like ",(0,i.yg)("inlineCode",{parentName:"p"},"%android_code%"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"%locale%"),", etc."),(0,i.yg)("p",null,"To set up Language Mapping in your configuration file, add the ",(0,i.yg)("inlineCode",{parentName:"p"},"languages_mapping")," section to your file set as shown below:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},'"files": [\n   {\n      "source": "/locale/en/**/*.po",\n      "translation": "/locale/%two_letters_code%/**/%original_file_name%",\n      "languages_mapping": {\n         "two_letters_code": {\n            "uk": "ukr",\n            "pl": "pol"\n         }\n      }\n   }\n]\n')),(0,i.yg)("p",null,"Note that in the example above, we are configuring mapping for the ",(0,i.yg)("inlineCode",{parentName:"p"},"two_letters_code")," placeholder because it is specified in the ",(0,i.yg)("inlineCode",{parentName:"p"},"translation")," pattern. If you use a different language placeholder in your ",(0,i.yg)("inlineCode",{parentName:"p"},"translation")," pattern, you should also specify this placeholder in the ",(0,i.yg)("inlineCode",{parentName:"p"},"languages_mapping")," configuration."),(0,i.yg)("admonition",{type:"caution"},(0,i.yg)("p",{parentName:"admonition"},"The mapping format is the following: ",(0,i.yg)("inlineCode",{parentName:"p"},"crowdin_language_code"),": ",(0,i.yg)("inlineCode",{parentName:"p"},"code_you_use"),". Check the full list of ",(0,i.yg)("a",{parentName:"p",href:"https://developer.crowdin.com/language-codes/"},"Crowdin language codes")," that can be used for mapping.")),(0,i.yg)("admonition",{type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"Languages Mapping can be also configured in your crowdin.com or Crowdin Enterprise ",(0,i.yg)("em",{parentName:"p"},"Project Settings")," > ",(0,i.yg)("em",{parentName:"p"},"Languages")," section.")),(0,i.yg)("h3",{id:"download-pseudo-localization"},"Download Pseudo-localization"),(0,i.yg)("p",null,"You can configure and download pseudo-localized translation files."),(0,i.yg)("p",null,"To download an archive with pseudo-localized translation files:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"crowdin download --pseudo\n")),(0,i.yg)("p",null,"Add the ",(0,i.yg)("inlineCode",{parentName:"p"},"pseudo_localization")," section to your ",(0,i.yg)("inlineCode",{parentName:"p"},"crowdin.yml")," configuration file with the following structure:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},'pseudo_localization: {\n  length_correction: 25,\n  prefix: "",\n  suffix: "",\n  character_transformation: "cyrillic"\n}\n')),(0,i.yg)("p",null,"Visit the ",(0,i.yg)("a",{parentName:"p",href:"https://developer.crowdin.com/pseudolocalization/"},"KB article")," to read more about Pseudo-Localiation."),(0,i.yg)("h3",{id:"export-configuration-for-specific-file-formats"},"Export configuration for specific file formats"),(0,i.yg)("h4",{id:"java-properties"},"Java Properties"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Escape Quotes")),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"escape_quotes")," option defines whether a single quote should be escaped by another single quote or backslash in exported translations. You can add the ",(0,i.yg)("inlineCode",{parentName:"p"},"escape_quotes")," per-file option. Acceptable values are ",(0,i.yg)("inlineCode",{parentName:"p"},"0"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"1"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"2"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"3"),". Default is ",(0,i.yg)("inlineCode",{parentName:"p"},"3"),"."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - do not escape"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1")," - escape single quote with another single quote"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"2")," - escape single quote with a backslash"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"3")," - escape single quote with another single quote only in strings containing variables ( {0} )")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Escape special characters")),(0,i.yg)("p",null,"Defines whether any special characters (",(0,i.yg)("inlineCode",{parentName:"p"},"="),", ",(0,i.yg)("inlineCode",{parentName:"p"},":"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"!")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"#"),") should be escaped by a backslash in exported translations. You can add the ",(0,i.yg)("inlineCode",{parentName:"p"},"escape_special_characters")," per-file option. Acceptable values are ",(0,i.yg)("inlineCode",{parentName:"p"},"0"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"1"),". Default is ",(0,i.yg)("inlineCode",{parentName:"p"},"1"),"."),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"0")," - do not escape special characters"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"1")," - escape special characters by a backslash")),(0,i.yg)("p",null,"Example of the configuration:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},'"files": [\n  {\n    "source": "/en/strings.properties",\n    "translation": "/%two_letters_code%/%original_file_name%",\n    "escape_quotes": 1,\n    "escape_special_characters": 0\n  }\n]\n')),(0,i.yg)("h4",{id:"javascript"},"JavaScript"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Export Quotes")),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"export_quotes")," option defines the type of quotes to use in exported translations. You can add the ",(0,i.yg)("inlineCode",{parentName:"p"},"export_quotes")," per-file option. Acceptable values are ",(0,i.yg)("inlineCode",{parentName:"p"},"single"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"double"),". Default is ",(0,i.yg)("inlineCode",{parentName:"p"},"single"),"."),(0,i.yg)("p",null,"Example of the configuration:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},'"files": [\n  {\n    "source": "/en/strings.js",\n    "translation": "/%two_letters_code%/%original_file_name%",\n    "export_quotes": "double"\n  }\n]\n')),(0,i.yg)("h3",{id:"argument-file"},"Argument File"),(0,i.yg)("p",null,"Crowdin CLI supports loading command-line arguments from a file.\nThe arguments can be stored in a plain text file and be passed to the CLI using the ",(0,i.yg)("inlineCode",{parentName:"p"},"@filename")," syntax."),(0,i.yg)("p",null,"This can be useful when:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"You have a long list of options"),(0,i.yg)("li",{parentName:"ul"},"You want to reuse the same configuration"),(0,i.yg)("li",{parentName:"ul"},"You want to avoid issues with escaping special characters (like quotes) on Windows shells (PowerShell, cmd.exe)")),(0,i.yg)("h4",{id:"how-to-use"},"How to use"),(0,i.yg)("p",null,"Create a text file containing the arguments you would normally type in the command line.\nEach argument must be separated by a new line.\nIn your CLI command, reference the file using ",(0,i.yg)("inlineCode",{parentName:"p"},"@")," followed by the filename."),(0,i.yg)("p",null,"Example file (args.txt):"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"--branch feat\n--directory src\n")),(0,i.yg)("p",null,"Run CLI using file:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"crowdin string list @args.txt\n")),(0,i.yg)("p",null,"For PowerShell:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-powershell"},'crowdin string list "@args.txt"\n')),(0,i.yg)("h3",{id:"multilingual-files"},"Multilingual Files"),(0,i.yg)("p",null,"For multilingual file formats (containing multiple languages in one file) you can use the ",(0,i.yg)("inlineCode",{parentName:"p"},"multilingual")," option in the configuration. This option allows you to omit the language placeholders in the ",(0,i.yg)("inlineCode",{parentName:"p"},"translation")," pattern:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},'"files": [\n  {\n    "source": "Localizable.xcstrings",\n    "translation": "Localizable.xcstrings",\n    "multilingual": true\n  }\n]\n')),(0,i.yg)("h3",{id:"configure-export-options-for-each-file-group"},"Configure export options for each file group"),(0,i.yg)("p",null,"There is a way to specify export options for each file-group in the ",(0,i.yg)("inlineCode",{parentName:"p"},"crowdin.yml")," configuration file:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},"files: [\n     {\n         'source': '...',\n         'translation': '...',\n         // highlight-next-line\n         'skip_untranslated_strings': true # Skip untranslated strings\n     },\n     {\n         'source': '...',\n         'translation': '...',\n         // highlight-next-line\n         'skip_untranslated_files': true # Skip untranslated files\n     },\n     {\n         'source': '...',\n         'translation': '...',\n         // highlight-next-line\n         'export_only_approved': true # Export only approved\n     },\n     { # Only for Crowdin Enterprise\n         'source': '...',\n         'translation': '...',\n         // highlight-next-line\n         'export_string_that_passed_workflow': true # Export only strings that passed workflow\n     },\n]\n")),(0,i.yg)("h3",{id:"ignore-hidden-files-during-upload-sources"},"Ignore hidden files during upload sources"),(0,i.yg)("p",null,"To ignore hidden files during sources upload, add the following to your configuration file:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-yml",metastring:'title="crowdin.yml"',title:'"crowdin.yml"'},'settings: {\n    "ignore_hidden_files": false\n}\n')),(0,i.yg)("p",null,"Default value - ",(0,i.yg)("inlineCode",{parentName:"p"},"true"),"."))}c.isMDXComponent=!0}}]);